{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport let DataService = /*#__PURE__*/(() => {\n  class DataService {\n    constructor() {\n      this.articlesSubject = new BehaviorSubject(this.loadArticles());\n      this.gallerySubject = new BehaviorSubject(this.loadGallery());\n      this.articles$ = this.articlesSubject.asObservable();\n      this.gallery$ = this.gallerySubject.asObservable();\n    }\n    // Articles Management\n    loadArticles() {\n      const stored = localStorage.getItem('articles');\n      if (stored) {\n        return JSON.parse(stored);\n      }\n      return this.getDefaultArticles();\n    }\n    saveArticles(articles) {\n      localStorage.setItem('articles', JSON.stringify(articles));\n      this.articlesSubject.next(articles);\n    }\n    getArticles() {\n      return this.articlesSubject.value;\n    }\n    getArticleById(id) {\n      return this.articlesSubject.value.find(a => a.id === id);\n    }\n    addArticle(article) {\n      const articles = this.articlesSubject.value;\n      const newId = articles.length > 0 ? Math.max(...articles.map(a => a.id)) + 1 : 1;\n      this.saveArticles([...articles, {\n        ...article,\n        id: newId\n      }]);\n    }\n    updateArticle(id, article) {\n      const articles = this.articlesSubject.value;\n      const index = articles.findIndex(a => a.id === id);\n      if (index !== -1) {\n        articles[index] = {\n          ...articles[index],\n          ...article\n        };\n        this.saveArticles([...articles]);\n      }\n    }\n    deleteArticle(id) {\n      const articles = this.articlesSubject.value.filter(a => a.id !== id);\n      this.saveArticles(articles);\n    }\n    // Gallery Management\n    loadGallery() {\n      const stored = localStorage.getItem('gallery');\n      if (stored) {\n        return JSON.parse(stored);\n      }\n      return [];\n    }\n    saveGallery(gallery) {\n      localStorage.setItem('gallery', JSON.stringify(gallery));\n      this.gallerySubject.next(gallery);\n    }\n    getGallery() {\n      return this.gallerySubject.value;\n    }\n    addGalleryImage(image) {\n      const gallery = this.gallerySubject.value;\n      const newId = gallery.length > 0 ? Math.max(...gallery.map(g => g.id)) + 1 : 1;\n      this.saveGallery([...gallery, {\n        ...image,\n        id: newId\n      }]);\n    }\n    deleteGalleryImage(id) {\n      const gallery = this.gallerySubject.value.filter(g => g.id !== id);\n      this.saveGallery(gallery);\n    }\n    // Default articles\n    getDefaultArticles() {\n      return [{\n        id: 1,\n        title: 'Рак легень: ранні ознаки та діагностика',\n        excerpt: 'Рак легень - одне з найпоширеніших онкологічних захворювань. Дізнайтеся про перші симптоми та сучасні методи діагностики.',\n        category: 'Діагностика',\n        image: 'https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?w=800&h=600&fit=crop',\n        date: '15 березня 2025',\n        readTime: '7 хв',\n        content: {\n          intro: 'Рак легень залишається одним з найпоширеніших онкологічних захворювань у світі. Рання діагностика значно підвищує шанси на успішне лікування.',\n          sections: [{\n            heading: 'Перші симптоми',\n            text: 'Тривалий кашель, що не проходить понад 3 тижні, кровохаркання, задишка, біль у грудях, втрата ваги без причини - це симптоми, які потребують негайного звернення до лікаря.'\n          }]\n        }\n      }];\n    }\n    // Image upload helper\n    convertImageToBase64(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = error => reject(error);\n        reader.readAsDataURL(file);\n      });\n    }\n    static {\n      this.ɵfac = function DataService_Factory(t) {\n        return new (t || DataService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: DataService,\n        factory: DataService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return DataService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}