{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class DataService {\n  constructor() {\n    this.articlesSubject = new BehaviorSubject(this.loadArticles());\n    this.gallerySubject = new BehaviorSubject(this.loadGallery());\n    this.articles$ = this.articlesSubject.asObservable();\n    this.gallery$ = this.gallerySubject.asObservable();\n  }\n  // Articles Management\n  loadArticles() {\n    const stored = localStorage.getItem('articles');\n    if (stored) {\n      return JSON.parse(stored);\n    }\n    return this.getDefaultArticles();\n  }\n  saveArticles(articles) {\n    localStorage.setItem('articles', JSON.stringify(articles));\n    this.articlesSubject.next(articles);\n  }\n  getArticles() {\n    return this.articlesSubject.value;\n  }\n  getArticleById(id) {\n    return this.articlesSubject.value.find(a => a.id === id);\n  }\n  addArticle(article) {\n    const articles = this.articlesSubject.value;\n    const newId = articles.length > 0 ? Math.max(...articles.map(a => a.id)) + 1 : 1;\n    this.saveArticles([...articles, {\n      ...article,\n      id: newId\n    }]);\n  }\n  updateArticle(id, article) {\n    const articles = this.articlesSubject.value;\n    const index = articles.findIndex(a => a.id === id);\n    if (index !== -1) {\n      articles[index] = {\n        ...articles[index],\n        ...article\n      };\n      this.saveArticles([...articles]);\n    }\n  }\n  deleteArticle(id) {\n    const articles = this.articlesSubject.value.filter(a => a.id !== id);\n    this.saveArticles(articles);\n  }\n  // Gallery Management\n  loadGallery() {\n    const stored = localStorage.getItem('gallery');\n    if (stored) {\n      return JSON.parse(stored);\n    }\n    return [];\n  }\n  saveGallery(gallery) {\n    localStorage.setItem('gallery', JSON.stringify(gallery));\n    this.gallerySubject.next(gallery);\n  }\n  getGallery() {\n    return this.gallerySubject.value;\n  }\n  addGalleryImage(image) {\n    const gallery = this.gallerySubject.value;\n    const newId = gallery.length > 0 ? Math.max(...gallery.map(g => g.id)) + 1 : 1;\n    this.saveGallery([...gallery, {\n      ...image,\n      id: newId\n    }]);\n  }\n  deleteGalleryImage(id) {\n    const gallery = this.gallerySubject.value.filter(g => g.id !== id);\n    this.saveGallery(gallery);\n  }\n  // Default articles\n  getDefaultArticles() {\n    return [{\n      id: 1,\n      title: 'Рак легень: ранні ознаки та діагностика',\n      excerpt: 'Рак легень - одне з найпоширеніших онкологічних захворювань. Дізнайтеся про перші симптоми та сучасні методи діагностики.',\n      category: 'Діагностика',\n      image: 'https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?w=800&h=600&fit=crop',\n      date: '15 березня 2025',\n      readTime: '7 хв',\n      content: {\n        intro: 'Рак легень залишається одним з найпоширеніших онкологічних захворювань у світі. Рання діагностика значно підвищує шанси на успішне лікування.',\n        sections: [{\n          heading: 'Перші симптоми',\n          text: 'Тривалий кашель, що не проходить понад 3 тижні, кровохаркання, задишка, біль у грудях, втрата ваги без причини - це симптоми, які потребують негайного звернення до лікаря.'\n        }]\n      }\n    }];\n  }\n  // Image upload helper\n  convertImageToBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n      reader.readAsDataURL(file);\n    });\n  }\n  static {\n    this.ɵfac = function DataService_Factory(t) {\n      return new (t || DataService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: DataService,\n      factory: DataService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","DataService","constructor","articlesSubject","loadArticles","gallerySubject","loadGallery","articles$","asObservable","gallery$","stored","localStorage","getItem","JSON","parse","getDefaultArticles","saveArticles","articles","setItem","stringify","next","getArticles","value","getArticleById","id","find","a","addArticle","article","newId","length","Math","max","map","updateArticle","index","findIndex","deleteArticle","filter","saveGallery","gallery","getGallery","addGalleryImage","image","g","deleteGalleryImage","title","excerpt","category","date","readTime","content","intro","sections","heading","text","convertImageToBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","error","readAsDataURL","factory","ɵfac","providedIn"],"sources":["/Users/maksnalyvaiko/personal/rus/src/app/services/data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nexport interface Article {\n  id: number;\n  title: string;\n  excerpt: string;\n  category: string;\n  image: string; // Base64 encoded image\n  content: {\n    intro: string;\n    sections: {\n      heading: string;\n      text: string;\n    }[];\n  };\n  date: string;\n  readTime: string;\n}\n\nexport interface GalleryImage {\n  id: number;\n  image: string; // Base64 encoded image\n  alt: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n  private articlesSubject = new BehaviorSubject<Article[]>(this.loadArticles());\n  private gallerySubject = new BehaviorSubject<GalleryImage[]>(this.loadGallery());\n\n  articles$ = this.articlesSubject.asObservable();\n  gallery$ = this.gallerySubject.asObservable();\n\n  constructor() {}\n\n  // Articles Management\n  private loadArticles(): Article[] {\n    const stored = localStorage.getItem('articles');\n    if (stored) {\n      return JSON.parse(stored);\n    }\n    return this.getDefaultArticles();\n  }\n\n  private saveArticles(articles: Article[]): void {\n    localStorage.setItem('articles', JSON.stringify(articles));\n    this.articlesSubject.next(articles);\n  }\n\n  getArticles(): Article[] {\n    return this.articlesSubject.value;\n  }\n\n  getArticleById(id: number): Article | undefined {\n    return this.articlesSubject.value.find(a => a.id === id);\n  }\n\n  addArticle(article: Omit<Article, 'id'>): void {\n    const articles = this.articlesSubject.value;\n    const newId = articles.length > 0 ? Math.max(...articles.map(a => a.id)) + 1 : 1;\n    this.saveArticles([...articles, { ...article, id: newId }]);\n  }\n\n  updateArticle(id: number, article: Partial<Article>): void {\n    const articles = this.articlesSubject.value;\n    const index = articles.findIndex(a => a.id === id);\n    if (index !== -1) {\n      articles[index] = { ...articles[index], ...article };\n      this.saveArticles([...articles]);\n    }\n  }\n\n  deleteArticle(id: number): void {\n    const articles = this.articlesSubject.value.filter(a => a.id !== id);\n    this.saveArticles(articles);\n  }\n\n  // Gallery Management\n  private loadGallery(): GalleryImage[] {\n    const stored = localStorage.getItem('gallery');\n    if (stored) {\n      return JSON.parse(stored);\n    }\n    return [];\n  }\n\n  private saveGallery(gallery: GalleryImage[]): void {\n    localStorage.setItem('gallery', JSON.stringify(gallery));\n    this.gallerySubject.next(gallery);\n  }\n\n  getGallery(): GalleryImage[] {\n    return this.gallerySubject.value;\n  }\n\n  addGalleryImage(image: Omit<GalleryImage, 'id'>): void {\n    const gallery = this.gallerySubject.value;\n    const newId = gallery.length > 0 ? Math.max(...gallery.map(g => g.id)) + 1 : 1;\n    this.saveGallery([...gallery, { ...image, id: newId }]);\n  }\n\n  deleteGalleryImage(id: number): void {\n    const gallery = this.gallerySubject.value.filter(g => g.id !== id);\n    this.saveGallery(gallery);\n  }\n\n  // Default articles\n  private getDefaultArticles(): Article[] {\n    return [\n      {\n        id: 1,\n        title: 'Рак легень: ранні ознаки та діагностика',\n        excerpt: 'Рак легень - одне з найпоширеніших онкологічних захворювань. Дізнайтеся про перші симптоми та сучасні методи діагностики.',\n        category: 'Діагностика',\n        image: 'https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?w=800&h=600&fit=crop',\n        date: '15 березня 2025',\n        readTime: '7 хв',\n        content: {\n          intro: 'Рак легень залишається одним з найпоширеніших онкологічних захворювань у світі. Рання діагностика значно підвищує шанси на успішне лікування.',\n          sections: [\n            {\n              heading: 'Перші симптоми',\n              text: 'Тривалий кашель, що не проходить понад 3 тижні, кровохаркання, задишка, біль у грудях, втрата ваги без причини - це симптоми, які потребують негайного звернення до лікаря.'\n            }\n          ]\n        }\n      }\n    ];\n  }\n\n  // Image upload helper\n  convertImageToBase64(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result as string);\n      reader.onerror = error => reject(error);\n      reader.readAsDataURL(file);\n    });\n  }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}